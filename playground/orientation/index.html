<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
<head>

    <title>Boxes and Lines - helping you succeed online</title>

    <meta name="description" content="Introduction to Boxes and Lines" />
    <meta name="keywords" content="Canberra, web consulting, ecommerce, social media" />
    <link rel="canonical" href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" type="text/css" rel="stylesheet" />
    <link href="//fonts.googleapis.com/css?family=Ubuntu:400,400italic,700,700italic" type="text/css" rel="stylesheet" />

    <link href="/Assets/css/main.css" rel="stylesheet" />
    <style type="text/css">
    	.garden {
		  position: relative;
		  width : 200px;
		  height: 200px;
		  border: 5px solid #CCC;
		  border-radius: 10px;
		}

		.ball {
		  position: absolute;
		  top   : 90px;
		  left  : 90px;
		  width : 20px;
		  height: 20px;
		  background: green;
		  border-radius: 100%;
		}
    </style>
</head>

<body class=homepage>
    <div id="wrapper">

        <header id="header">
            <div class="container">
                <h1>
                    Boxes and Lines
                </h1>
            </div>
        </header>

        <div id="main">
            <div class="container">
                <div>
                    <section>
                        <h2>Device Orientation</h2>
                        <div>
                            <p>With <a href="https://developer.mozilla.org/en-US/docs/Web/API/Detecting_device_orientation">the Orientation API</a> we can detect movement in some browsers.</p>

						<div class="garden">
						  <div class="ball"></div>
						</div>

						<pre class="output"></pre>

                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <footer id="footer">
        <div class="container">
            <ul class="footer-contact">
                <li><a href="javascript:void;" id="mailto-link">info at boxesandlines.com.au</a></li>
            </ul>

            <div class="functional"><span>&copy; Boxes and Lines 2015</span></div>
        </div>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>

    <script type="text/javascript" language="javascript">
    	var e = $("#mailto-link");
            e.text("info" + "@" + "boxesandlines.com.au");
            e.attr("href", "mailto" + ":" + e.text());


		var ball   = document.querySelector('.ball');
		var garden = document.querySelector('.garden');
		var output = document.querySelector('.output');

		var maxX = garden.clientWidth  - ball.clientWidth;
		var maxY = garden.clientHeight - ball.clientHeight;

		function handleOrientation(event) {
		  var x = event.beta;  // In degree in the range [-180,180]
		  var y = event.gamma; // In degree in the range [-90,90]

		  output.innerHTML  = "beta : " + x + "\n";
		  output.innerHTML += "gamma: " + y + "\n";

		  // Because we don't want to have the device upside down
		  // We constrain the x value to the range [-90,90]
		  if (x >  90) { x =  90};
		  if (x < -90) { x = -90};

		  // To make computation easier we shift the range of 
		  // x and y to [0,180]
		  x += 90;
		  y += 90;

		  // 10 is half the size of the ball
		  // It center the positioning point to the center of the ball
		  ball.style.top  = (maxX*x/180 - 10) + "px";
		  ball.style.left = (maxY*y/180 - 10) + "px";
		}

		window.addEventListener('deviceorientation', handleOrientation);

    </script>

</body>
</html>
